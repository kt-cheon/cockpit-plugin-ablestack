<!--
* File Name : gfs-storage-configure-wizard.html
* Date Created : 2025.07.17
* Writer  : 정민철
* Description : ABLESTACK GFS용 스토리지 구성을 위한 절차를 진행하는 마법사 Modal 대화상자
-->

<div class="pf-l-bullseye" >
    <div class="pf-c-modal-box pf-m-lg" role="dialog" aria-modal="true" aria-label="Basic wizard">
        <div class="pf-c-wizard">
            <div class="pf-c-wizard__header">
                <button class="pf-c-button pf-m-plain pf-c-wizard__close" type="button" aria-label="Close" id="button-close-modal-wizard-gfs">
                    <i class="fas fa-times" aria-hidden="true"></i>
                </button>
                <h1 class="pf-c-title pf-m-3xl pf-c-wizard__title">GFS 스토리지 구성 마법사</h1>
                <p class="pf-c-wizard__description">GFS 스토리지를 모든 호스트에 구성하기 위해, 스토리지 배포를 단계별로 체계적으로 진행합니다.</p>
            </div>
            <div class="pf-c-wizard__outer-wrap">
                <div class="pf-c-wizard__inner-wrap">
                    <nav class="pf-c-wizard__nav" aria-label="Steps">
                        <ol class="pf-c-wizard__nav-list">
                            <li class="pf-c-wizard__nav-item">
                                <button class="pf-c-wizard__nav-link pf-m-current" id="nav-button-gfs-overview">개요</button>
                            </li>
                            <li class="pf-c-wizard__nav-item">
                                <button class="pf-c-wizard__nav-link" id="nav-button-gfs-external-storage-sync">외부 스토리지 동기화</button>
                            </li>
                            <li class="pf-c-wizard__nav-item">
                                <button class="pf-c-wizard__nav-link" id="nav-button-gfs-disk-configure">GFS 디스크 구성</button>
                            </li>
                            <li class="pf-c-wizard__nav-item">
                                <button class="pf-c-wizard__nav-link" id="nav-button-gfs-ipmi-info">IPMI 정보</button>
                            </li>
                            <li class="pf-c-wizard__nav-item">
                                <button class="pf-c-wizard__nav-link" id="nav-button-gfs-review">설정확인</button>
                            </li>
                            <li class="pf-c-wizard__nav-item">
                                <button class="pf-c-wizard__nav-link" id="nav-button-gfs-finish">완료</button>
                            </li>
                        </ol>
                    </nav>
                    <main class="pf-c-wizard__main">
                        <div class="pf-c-wizard__main-body" id="div-modal-wizard-gfs-overview">
                            <div class="pf-c-content">
                                <p>
                                    GFS 스토리지 배포 마법사는 클러스터 환경에서 GFS 스토리지를 모든 호스트에 일관되게 구성하고, 운영에 필요한 설정을 자동으로 적용하는 도구입니다. GFS 스토리지를 배포하기 위해서는 다음의 정보가 필요합니다.
                                </p>
                                <ul>
                                    <li>SAN 스토리지에서 클러스터 환경의 디스크 할당 및 WWN 정보</li>
                                    <li>클러스터 환경의 GFS 스토리지 디스크 연결</li>
                                    <li>호스트별 원격 관리(IPMI) 정보</li>
                                </ul>
                                <p>
                                    필요한 정보를 먼저 준비하십시오. 정보가 준비되었다면 "다음" 버튼을 눌러 가상머신 배포를 시작합니다.
                                </p>
                            </div>
                        </div>
                        <div class="pf-c-wizard__main-body" id="div-modal-wizard-gfs-external-storage-sync">
                            <p>
                                GFS 스토리지를 배포하기 전에, 클러스터 환경에 연결된 외부 스토리지 정보를 먼저 동기화합니다.
                                동기화된 디스크 정보는 GFS 클러스터 환경에서 이중화된 공유 디스크로 사용됩니다.
                            </p>
                            <p style="color: crimson; font-size:18px;margin-top:25px;">
                                <i class="fas fa-fw fa-exclamation-triangle" aria-hidden="true" style="color: crimson;"></i>외부 스토리지 정보를 동기화하려면, FC 카드 또는 iSCSI 카드가 물리적으로 이중화 구성이 되어 있어야 합니다.
                            </p>
                            <form novalidate class="pf-c-form pf-m-horizontal" style="margin-left:15px;margin-top:32px">
                                <section class="pf-c-form__section">
                                    <div class="pf-c-form__group" style="--pf-c-form--m-horizontal__group-label--md--GridColumnWidth:10rem;--pf-global--spacer--md:1.5rem">
                                        <div class="pf-c-form__group-label">
                                            <label class="pf-c-form__label" for="form-external-storage-sync">
                                                <span class="pf-c-form__label-text">외부 스토리지 동기화 방식</span>
                                                <span class="pf-c-form__label-required" aria-hidden="true">&#42;</span>
                                            </label>
                                        </div>
                                        <div class="pf-c-form__group-control pf-m-inline" style="margin-top:10px">
                                            <div class="pf-c-radio" id="gfs-external-storage-sync-duplication">
                                                <input class="pf-c-radio__input" type="radio" id="gfs-duplication" value="duplication" name="form-radio-gfs-external-storage-sync" checked/>
                                                <label class="pf-c-radio__label" for="gfs-duplication">이중화</label>
                                            </div>
                                            <div class="pf-c-radio" id="gfs-external-storage-sync-single-layer">
                                                <input class="pf-c-radio__input" type="radio" id="gfs-single-layer" value="single" name="form-radio-gfs-external-storage-sync"/>
                                                <label class="pf-c-radio__label" for="gfs-single-layer">단중화</label>
                                            </div>
                                            <div class="pf-c-radio" id="gfs-external-storage-sync-skip">
                                                <input class="pf-c-radio__input" type="radio" id="gfs-skip" value="skip" name="form-radio-gfs-external-storage-sync" />
                                                <label class="pf-c-radio__label" for="gfs-skip">건너뛰기</label>
                                            </div>
                                            <div id="div-gfs-external-storage-sync" style="margin-left:60px;display: none;">
                                                <button class="pf-c-button pf-m-secondary" type="button" id="button-gfs-external-storage-sync">외부 스토리지 동기화 활성화</button>
                                            </div>
                                        </div>
                                </section>
                            </form>
                            <br/>
                            <div class="pf-c-alert pf-m-info pf-m-inline" aria-label="외부 스토리지 동기화 참고사항" style="margin-left:15px;margin-top:32px">
                                <div class="pf-c-alert__icon">
                                    <i class="fas fa-fw fa-info-circle" aria-hidden="true"></i>
                                </div>
                                <p class="pf-c-alert__title pf-m-truncate">
                                    <strong><span class="pf-screen-reader">Info alert:</span>외부 스토리지 동기화 참고사항</strong>
                                </p>
                                <div class="pf-c-alert__description">
                                    <p>외부 스토리지를 동기화하기 전에, 클러스터 내 각 호스트에 외부 스토리지 디스크가 정상적으로 할당되어 있는지 반드시 확인해야 합니다.</p>
                                    <p>이중화 옵션을 선택하신 경우, 외부 스토리지 동기화를 완료하신 후 다음 단계로 진행해 주세요. 동기화 전에 스토리지가 정상적으로 할당되었는지 반드시 확인해 주시기 바랍니다.</p>
                                    <p>외부 스토리지 동기화를 활성화하려면, 반드시 FC카드 또는 iSCSI카드가 물리적으로 이중화되어 있어야 합니다.</p>
                                    <p>만약 이중화 구성이 되어 있지 않다면, '단중화' 옵션을 선택하신 후 다음 단계로 진행해 주시기 바랍니다.</p>
                                    <p>이중화 구성이 완료된 후, GFS 디스크를 재구성하는 경우, 멀티패스 구성이 이미 완료되어 있는지 확인하시기 바랍니다. 구성이 완료되어 있다면, '건너뛰기' 옵션을 선택한 후 다음 단계로 진행해 주시기 바랍니다.</p>
                                </div>
                            </div>
                        </div>
                        <div class="pf-c-wizard__main-body" id="div-modal-wizard-gfs-disk-configure">
                            <p>
                                GFS용 디스크로 관리할 '클러스터에 연결된 iSCSI 또는 FC 디스크'를 선택해야 합니다.
                            </p>
                            <form novalidate class="pf-c-form pf-m-horizontal" style="margin-left:15px;margin-top:32px">
                                <section class="pf-c-form__section">
                                    <div class="pf-c-form__group" style="display: block;">
                                        <div class="pf-c-form__group-label">
                                            <label class="pf-c-form__label" for="form-list-gfs-disk">
                                                <span class="pf-c-form__label-text">GFS용 디스크 구성 대상 장치</span>
                                                <span class="pf-c-form__label-required" aria-hidden="true">&#42;</span>
                                            </label>
                                        </div>
                                        <div class="pf-c-form__group-control pf-m-stack" id="disk-gfs-storage-pci-list" style="margin-top:8px;max-height: 300px;overflow-y: auto;">
                                        </div>
                                    </div>
                                </section>
                            </form>
                            <br/>
                            <div class="pf-c-alert pf-m-info pf-m-inline" aria-label="GFS Disk Info" style="margin-left:15px;margin-top:32px">
                                <div class="pf-c-alert__icon">
                                    <i class="fas fa-fw fa-info-circle" aria-hidden="true"></i>
                                </div>
                                <p class="pf-c-alert__title pf-m-truncate">
                                    <strong><span class="pf-screen-reader">Info alert:</span>GFS용 디스크 자원 구성 시 참고사항</strong>
                                </p>
                                <div class="pf-c-alert__description">
                                    <p>
                                       GFS 파일 시스템은 Linux 커널 파일 시스템 인터페이스(VFS 레이어)와 직접 연결 시키는 원시적 파일 시스템입니다.

                                       사용할 GFS용 디스크가 알맞는지 종류, 사이즈 및 경로(WWN)를 잘 확인하시길 바랍니다.
                                    </p>
                                </div>
                            </div>
                            <br/>
                        </div>
                        <div class="pf-c-wizard__main-body" id="div-modal-wizard-gfs-ipmi">
                            <div class="pf-c-content">
                                <p>
                                    클러스터를 구성하기 위한 각 호스트의 IPMI 정보를 설정합니다. 아래의 항목에 값을 입력하십시오.
                                </p>
                                <form novalidate class="pf-c-form pf-m-horizontal" style="margin-left:15px;margin-top:32px">
                                    <section class="pf-c-form__section">
                                        <div class="pf-c-form__group">
                                            <div class="pf-c-form__group-label">
                                                <label class="pf-c-form__label">
                                                    <span class="pf-c-form__label-text">IPMI 구성 준비</span>
                                                    <span class="pf-c-form__label-required" aria-hidden="true">&#42;</span>
                                                </label>
                                            </div>
                                            <div class="pf-c-form__group-control pf-m-inline" style="margin-top:10px">
                                                <div class="pf-c-radio">
                                                    <input class="pf-c-radio__input" type="radio" id="form-radio-ipmi-common-credentials" name="radio-gfs-ipmi" value="common" checked/>
                                                    <label class="pf-c-radio__label" for="form-radio-ipmi-common-credentials">공통 자격 증명</label>
                                                </div>
                                                <div class="pf-c-radio">
                                                    <input class="pf-c-radio__input" type="radio" id="form-radio-ipmi-individual-credentials" name="radio-gfs-ipmi" value="individual"/>
                                                    <label class="pf-c-radio__label" for="form-radio-ipmi-individual-credentials">개별 자격 증명</label>
                                                </div>
                                            </div>
                                        </div>
                                            <div id="div-ipmi-credentials" style="border-top-width: thin; border-top-style: groove; border-top-color: #d2d2d2;"></div>
                                    </section>
                                </form>
                            </div>
                        </div>
                        <div class="pf-c-wizard__main-body" id="div-modal-wizard-gfs-review">
                            <div class="pf-c-content">
                                <p>
                                    GFS 스토리지 구성을 위해 입력한 설정 정보는 다음과 같습니다.
                                    입력한 정보를 수정하고자 하는 경우, 해당 탭으로 이동하여 정보를 수정하십시오.
                                    <br/>
                                    <br/>
                                    모든 정보를 확인한 후 "배포"를 시작합니다.
                                </p>
                            </div>
                            <div class="pf-c-accordion" style="margin-top:32px;margin-left:10px">
                                <h3>
                                    <button class="pf-c-accordion__toggle" aria-expanded="false" id="button-accordion-gfs-externel-storage-sync">
                                        <span class="pf-c-accordion__toggle-text">외부 스토리지 동기화</span>
                                        <span class="pf-c-accordion__toggle-icon">
                                            <i class="fas fa-angle-right" aria-hidden="true"></i>
                                        </span>
                                    </button>
                                </h3>
                                <div class="pf-c-accordion__expanded-content" id="div-accordion-gfs-externel-storage-sync">
                                    <div class="pf-c-accordion__expanded-content-body">
                                        <dl class="pf-c-description-list pf-m-horizontal" style="--pf-c-description-list--RowGap: 10px;margin-left: 10px;">
                                            <div class="pf-c-description-list__group">
                                                <dt class="pf-c-description-list__term">
                                                    <span class="pf-c-description-list__text">외부 스토리지 동기화 방식</span>
                                                </dt>
                                                <dd class="pf-c-description-list__description">
                                                    <div class="pf-c-description-list__text">
                                                        <span id="span-gfs-externel-storage-sync"></span><br/>
                                                    </div>
                                                </dd>
                                            </div>
                                        </dl>
                                    </div>
                                </div>
                            </div>
                            <div class="pf-c-accordion" style="margin-top:32px;margin-left:10px">
                                <h3>
                                    <button class="pf-c-accordion__toggle" aria-expanded="false" id="button-accordion-gfs-disk">
                                        <span class="pf-c-accordion__toggle-text">GFS 디스크 구성</span>
                                        <span class="pf-c-accordion__toggle-icon">
                                            <i class="fas fa-angle-right" aria-hidden="true"></i>
                                        </span>
                                    </button>
                                </h3>
                                <div class="pf-c-accordion__expanded-content" id="div-accordion-gfs-disk">
                                    <div class="pf-c-accordion__expanded-content-body">
                                        <dl class="pf-c-description-list pf-m-horizontal" style="--pf-c-description-list--RowGap: 10px;margin-left: 10px;">
                                            <div class="pf-c-description-list__group">
                                                <dt class="pf-c-description-list__term">
                                                    <span class="pf-c-description-list__text">GFS 디스크</span>
                                                </dt>
                                                <dd class="pf-c-description-list__description">
                                                    <div class="pf-c-description-list__text">
                                                        <span id="span-gfs-disk"></span>
                                                    </div>
                                                </dd>
                                            </div>
                                        </dl>
                                    </div>
                                </div>
                            </div>
                            <div class="pf-c-accordion" style="margin-top:32px;margin-left:10px;" id="div-accordion-gfs-ipmi"></div>
                        </div>
                        <div class="pf-c-wizard__main-body" id="div-modal-wizard-gfs-deploy">
                            <p id='progress-step-text'>
                                GFS 스토리지를 구성 중입니다. 전체 3단계 중 1단계 진행 중입니다.
                            </p>

                            <div class="pf-c-content" style="margin-top:30px;margin-left:15px">
                                <span class="pf-c-label pf-m-blue" id="span-gfs-progress-step1">
                                    <span class="pf-c-label__content">
                                        <span class="pf-c-label__icon">
                                            <i class="fas fa-fw fa-info-circle" aria-hidden="true"></i>
                                        </span><p>준비중</p>
                                    </span>
                                </span>
                                <span class="pf-c-label__content" style="margin-left:4px">클러스터 구성 HOST 외부 스토리지 동기화</span>
                            </div>
                            <div class="pf-c-content" style="margin-top:30px;margin-left:15px">
                                <span class="pf-c-label pf-m-blue" id="span-gfs-progress-step2">
                                    <span class="pf-c-label__content">
                                        <span class="pf-c-label__icon">
                                            <i class="fas fa-fw fa-info-circle" aria-hidden="true"></i>
                                        </span><p>준비중</p>
                                    </span>
                                </span>
                                <span class="pf-c-label__content" style="margin-left:4px">클러스터 구성 설정 초기화 작업</span>
                            </div>
                            <div class="pf-c-content" style="margin-top:30px;margin-left:15px">
                                <span class="pf-c-label pf-m-blue" id="span-gfs-progress-step3">
                                    <span class="pf-c-label__content">
                                        <span class="pf-c-label__icon">
                                            <i class="fas fa-fw fa-info-circle" aria-hidden="true"></i>
                                        </span><p>준비중</p>
                                    </span>
                                </span>
                                <span class="pf-c-label__content" style="margin-left:4px">GFS 구성 설정 및 PCS 구성 설정</span>
                            </div>
                        </div>
                        <div class="pf-c-wizard__main-body" id="div-modal-wizard-gfs-finish">
                            <p>
                                GFS 스토리지 구성을 완료하였습니다. 아래 내용을 참고하여 GFS 디스크와 PCS가 정상적으로 설정되어 작동하는지 확인한 후,<br/> 다음 단계로 진행하시기 바랍니다.
                            </p>
                            <div class="pf-c-content" style="margin-top:30px;margin-left:15px">
                                <span class="pf-c-label__content" style="margin-top:8px">모든 호스트에 GFS 구성이 완료 했는지 확인합니다.</span>
                                <br/>
                                <span class="pf-c-label__content" style="margin-top:8px">- 확인 명령어 : lsblk, lvs, vgs, pvs</span>
                                <br/><br/>
                                <span class="pf-c-label__content" style="margin-top:8px;">선택한 하나의 호스트에서 PCS 설정이 올바르게 완료되었는지 확인합니다.</span>
                                <br/>
                                <span class="pf-c-label__content" style="margin-top:8px">- 확인 명령어 : pcs status</span>
                            </div>
                            <p style="margin-top:50px">
                                확인 결과 이상이 없다면, 클라우드센터 VM 배포를 진행해 주세요.<br/>마법사를 종료하려면 화면 상단의 닫기 버튼을 클릭하십시오.
                            </p>
                        </div>
                    </main>
                </div>
                <footer class="pf-c-wizard__footer" style="box-shadow:var(--pf-global--BoxShadow--sm-top)">
                <button class="pf-c-button pf-m-primary" type="submit" id="button-next-step-modal-gfs-storage-wizard-config">다음</button>
                <button class="pf-c-button pf-m-secondary" type="button" id="button-before-step-modal-gfs-storage-wizard-config">이전</button>
                <div class="pf-c-wizard__footer-cancel">
                    <button class="pf-c-button pf-m-link" type="button" id="button-cancel-config-modal-gfs-storage-wizard-config">취소</button>
                </div>
                </footer>
            </div>
            <!-- GFS 스토리지 구성 마법사 진행: Modal 영역 시작 -->
            <div id="div-modal-gfs-storage-wizard-confirm" class="pf-c-backdrop" style="display:none" >
                <div class="pf-l-bullseye">
                    <div class="pf-c-modal-box pf-m-sm" role="dialog" aria-modal="true" aria-label="gfs storage wizard confirm">
                        <button id="button-close-modal-gfs-storage-wizard-confirm" aria-disabled="false" aria-label="Close" class="pf-c-button pf-m-plain" type="button">
                            <i class="fas fa-times" aria-hidden="true"></i>
                        </button>
                        <header class="pf-c-modal-box__header"><h1 class="pf-c-modal-box__title"><span class="pf-c-modal-box__title-text">GFS 스토리지 구성 진행</span></h1></header>
                        <div class="pf-c-modal-box__body">
                            <div>GFS 스토리지 구성을 진행하시겠습니까?</div>
                        </div>
                        <footer class="pf-c-modal-box__footer">
                            <button id="button-execution-modal-gfs-storage-wizard-confirm" aria-disabled="false" class="pf-c-button pf-m-primary" type="button" data-ouia-safe="true">실행</button>
                            <button id="button-cancel-modal-gfs-storage-wizard-confirm" aria-disabled="false" class="pf-c-button pf-m-link" type="button" data-ouia-safe="true">아니요</button>
                        </footer>
                    </div>
                </div>
            </div>
            <!-- 스토리지센터 가상머신 배포 마법사 진행: Modal 영역 끝 -->

            <!-- 스토리지센터 가상머신 배포 마법사 취소: Modal 영역 시작 -->
            <div id="div-modal-cancel-gfs-storage-wizard-cancel" class="pf-c-backdrop" style="display:none" >
                <div class="pf-l-bullseye">
                    <div class="pf-c-modal-box pf-m-sm" role="dialog" aria-modal="true" aria-label="gfs storage wizard cancel">
                        <button id="button-close-modal-gfs-storage-wizard-cancel" aria-disabled="false" aria-label="Close" class="pf-c-button pf-m-plain" type="button">
                            <i class="fas fa-times" aria-hidden="true"></i>
                        </button>
                        <header class="pf-c-modal-box__header"><h1 class="pf-c-modal-box__title"><span class="pf-c-modal-box__title-text">GFS 스토리지 구성 취소</span></h1></header>
                        <div class="pf-c-modal-box__body">
                            <div>GFS 스토리지 구성을 취소하시겠습니까? 입력된 데이터는 초기화 됩니다.</div>
                        </div>
                        <footer class="pf-c-modal-box__footer">
                            <button id="button-execution-modal-gfs-storage-wizard-cancel" aria-disabled="false" class="pf-c-button pf-m-primary" type="button" data-ouia-safe="true">실행</button>
                            <button id="button-cancel-modal-gfs-storage-wizard-cancel" aria-disabled="false" class="pf-c-button pf-m-link" type="button" data-ouia-safe="true">아니요</button>
                        </footer>
                    </div>
                </div>
            </div>
            <!-- 스토리지센터 가상머신 배포 마법사 취소: Modal 영역 끝 -->
<!-- 해당 페이지에 필요한 javascript 파일 추가 영역 시작 -->
<script src="./src/common/wizard-common.js"></script>
<script src="./src/common/validation.js"></script>
<script src="./src/features/gfs-storage-configure-wizard.js"></script>
<!-- 해당 페이지에 필요한 javascript 파일 추가 영역 끝 -->